<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width,initial-scale=1.0"> -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <!-- build:css style/index.css -->
    <link rel="stylesheet" href="css/commentti.css">
    <!-- endbuild -->
    <title>靓评，以“评”为媒，以“评”会友</title>
    <script type="text/javascript">
        var ua = navigator.userAgent;

        var ipad = ua.match(/(iPad).*OS\s([\d_]+)/),

            isIphone = !ipad && ua.match(/(iPhone\sOS)\s([\d_]+)/),

            isAndroid = ua.match(/(Android)\s+([\d.]+)/),

            isMobile = isIphone || isAndroid;
  
        //判断
        if (isMobile) {
            var metaEl = document.querySelector('meta[name="viewport"]');
            if (!metaEl) {
                metaEl = document.createElement('meta');
                metaEl.setAttribute('name', 'viewport');
                document.head.appendChild(metaEl);
            }
            metaEl.setAttribute('content',
                'width=device-width,user-scalable=yes,initial-scale=0.2,maximum-scale=1,minimum-scale=0.1');
        }

    </script>
    <script type="text/javascript">
        /* 判断是pc端还是移动端  网上有很多*/
        var sUserAgent = navigator.userAgent.toLowerCase();
        var bIsIpad = sUserAgent.match(/ipad/i) == "ipad";
        var bIsIphoneOs = sUserAgent.match(/iphone os/i) == "iphone os";
        var bIsMidp = sUserAgent.match(/midp/i) == "midp";
        var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == "rv:1.2.3.4";
        var bIsUc = sUserAgent.match(/ucweb/i) == "ucweb";
        var bIsAndroid = sUserAgent.match(/android/i) == "android";
        var bIsCE = sUserAgent.match(/windows ce/i) == "windows ce";
        var bIsWM = sUserAgent.match(/windows mobile/i) == "windows mobile";
        /* 根据不同的客户端引入样以及加载页面 */
        if (bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM) {
            window.location.href = "/commentti-h5/index.html";
        }
    </script>
</head>

<body>
    <div class="main-container">
        <header class="header">
            <div class="logo-container">
                <img src="images/logo.png" alt="" class="logo">
            </div>
            <ul class="nav">
                <li class="index-page focus">首页</li>
                <li class="about-page">
                    <a href="#aboutUs">关于我们</a>
                </li>
                <li class="down-page">
                    <a href="#downPage">下载</a>
                </li>
            </ul>
        </header>
        <div class="first">
            <div class="first-container">
                <div class="left-container">
                    <img src="images/1.png" alt="" class="gif-img">
                </div>
                <div class="right-container">
                    <div class="desc">
                        <span style="font-size:60px;">靓评--</span>
                        以“评”为媒，以“评”会友
                    </div>
                    <div class="desc">
                    靓评是一种以评论为中心，涵盖媒体工具，媒体评论，内容共享，网络社交等功能的综合性APP。通过广大网友的评论以及评分，筛选出基于用户态度的优质内容和网络新观点，是全民大讨论，意见集中，智慧叠加的最佳平台。
                    </div>

                    <div class="qr-download-container">
                        
                        <div class="download">
                            <a class="iphone app-download"  href="https://apps.apple.com/cn/app/id1413146228?l=zh&ls=1">
                                <img src="images/ios.png" alt="iphone 应用下载" class="iphone-img" data-app="">
                                <span class="download-type">App Store</span>
                            </a>
                            <a class="android app-download"  href="http://app.lianxi.com">
                                <img src="images/andriod.png" alt="安卓应用下载" class="adroid-img" >
                                <span class="download-type">Android</span>
                            </a>
                        </div>
                        <div class="qr">
                            <img src="images/qr.png" alt="" class="qr-img">
                        
                        </div>
                    </div>
                </div>
            </div>
        </div>
             <p class="xieyi">
            如果您在靓评发现违法违规内容，请您向我们举报！举报邮箱：houyan@staff.tixa.com <a href="agreement.html">用户协议</a> <a href="privacy.html">隐私协议</a>
        </p>
        <p class="icp">
            北京联系网科技有限公司版权所有@2017保留所有权 
            <a href="https://beian.miit.gov.cn" target="_blank">京ICP备13049398号-1</a>
        </p>
    </div>
    
  



</body>
<script>
    (function () {

        var styleTest = document.createElement('div').style

        var render = {
            webkit: 'webkitTransform',
            ms: 'msTransform',
            Moz: 'MozTransform',
            O: 'OTransform',
            standard: 'transform'
        }

        function getPrefix (){
           for (var key in render) {
                if (styleTest[render[key]] !== undefined) {
                    return key
                }
            }
        }
        function stylePrefix(style) {
            if (getPrefix === 'standard') {
                return style
            }
            return getPrefix() + style.charAt(0).toUpperCase() + style.substr(1)
        }
   
        var requestFrame = (function () {
            var thisFunc,
                prefixList = ["webkit", "moz", "ms"];

            if ("requestAnimationFrame" in window) {
                return function (callback) {
                    window.requestAnimationFrame(callback);
                };
            }

            for (let i = 0, len = prefixList.length; i < len; i++) {
                thisFunc = prefixList[i] + "RequestAnimationFrame";
                if (window[thisFunc]) {
                    return function (callback) {
                        thisFunc(callback);
                    }
                }
            }
            return function (callback) {
                window.setTimeout(callback, 67);
            }

        })();

        window.addEventListener("DOMContentLoaded", function () {
            var 
                lift = document.getElementById('lift'),
                liftList = document.getElementById('lift'),
                timer = null;
            function removeClass(nodeList, style) {
                var i = 0,
                    len = (nodeList && nodeList.length) || 0,
                    className = null,
                    reg = new RegExp(style, "g");
                for (; i < len; i++) {
                    var node = nodeList[i];
                    if (+node.nodeType === 1) {
                        className = node.getAttribute('class');
                        if (reg.test(className)) {
                            node.setAttribute("class", className.replace(reg, ""));
                        }
                    }
                }
            }

            // 到达指定位置
            function toSpecialLift(off){
                var t = stylePrefix('transform');
                var tr = stylePrefix('transition');
                document.body.style[tr] = 'all 1s ease-out';
                //document.body.style[t] = 'translateY('+ -off+'px)';
                window.scrollTo({
                    top: off,
                    behavior: "smooth"
                });
                
            }

            //循环注册事件
            function handleLift() {
                var childNodes = liftList.childNodes,
                    i = 0;
                len = childNodes.length;
                for (; i < len; i++) {
                    var node = childNodes[i];
                    if (node.nodeType === 1 && node.nodeName.toLowerCase() === "div") {
                        node.onclick = function () {
                            //移除焦点
                            removeClass(childNodes, "active");
                            var off = this.getAttribute('data-off'),
                                className = this.getAttribute('class');
                            className = className + " active";
                            this.setAttribute("class", className);
                            toSpecialLift(off);
                        }
                    }
                }

            }

            function handleScroll(e){
                var t = document.documentElement.scrollTop || document.body.scrollTop;
                var childNodes = liftList.childNodes;
                //判断偏移量所在区间，点亮对应的电梯按钮
                
                var currentIndex = 0
                console.log(t);
                if( t < 840 ) {
                    currentIndex = 0;
                } else if( t < 1774 ) {
                    currentIndex = 1;
                } else if( t < 2643 ) {
                    currentIndex = 2;
                } else if( t < 3511 ) {
                    currentIndex = 3;
                } else if( t < 4435 ){
                    currentIndex = 4;
                } else if ( t < 5000 ) {
                    currentIndex = 5;
                }
                // 点亮电梯按钮
                removeClass(childNodes, "active");
                var node = document.getElementById(currentIndex);
                var className = node.className;
                node.className = className + ' active';
            }

            //节流器
            var throttle = {
                timeId: null,
                process: function () {
                    window.clearTimeout(this.timeId);
                    this.timeId = setTimeout(function () {
                        handleScroll();
                    }, 30);
                }
            }

            window.onscroll = throttle.process;
            handleLift();
            //window.onscroll = handleScroll;

        }, false);
    }())
</script>
</html>
